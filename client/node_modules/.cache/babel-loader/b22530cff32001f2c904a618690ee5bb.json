{"ast":null,"code":"var _jsxFileName = \"/Users/ducdinh/Desktop/Front-end/src/components/Profile/Profiles.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport \"./Style.css\";\nimport { toast } from 'react-toastify';\nimport { AuthContext } from './../../context/AuthContext';\nimport { createProfile } from '../../api/profile';\nimport { uploadImage } from '../../api/upload';\nimport { getIsCreateprofile } from '../../api/profile';\nimport { Link } from 'react-router-dom';\nimport Loading from '../../common/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Profiles = () => {\n  _s();\n\n  const {\n    userData,\n    token\n  } = useContext(AuthContext);\n  const [numberPhone, setPhone] = React.useState('');\n  const [salonName, setSallonName] = React.useState('');\n  const [addrWebsite, setAddrWebsite] = React.useState('');\n  const [urlPhoto, setUrlPhoto] = React.useState('https://res.cloudinary.com/dq8rwm2xl/image/upload/v1619358123/image/khr7mhtuttu5kweudkh1.jpg');\n  const [inforProfle, setInforProfile] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  React.useEffect(() => {\n    (() => {\n      if (token) {\n        getIsCreateprofile(token).then(result => {\n          var _result$data;\n\n          if ((result === null || result === void 0 ? void 0 : (_result$data = result.data) === null || _result$data === void 0 ? void 0 : _result$data.status) === \"success\") {\n            var _result$data2;\n\n            if (result === null || result === void 0 ? void 0 : (_result$data2 = result.data) === null || _result$data2 === void 0 ? void 0 : _result$data2.data) {\n              var _result$data3;\n\n              setInforProfile(result === null || result === void 0 ? void 0 : (_result$data3 = result.data) === null || _result$data3 === void 0 ? void 0 : _result$data3.data);\n            }\n\n            setLoading(false);\n          }\n        }).catch(e => {\n          setInforProfile(null);\n        });\n      }\n    })();\n\n    return () => setInforProfile(null);\n  }, [token]);\n\n  const handlerCreateProfile = e => {\n    e.preventDefault();\n    if (numberPhone.length < 5) return toast.error('phone length must be at least 5 characters long');\n\n    try {\n      createProfile(userData === null || userData === void 0 ? void 0 : userData.name, numberPhone, urlPhoto, salonName, addrWebsite, token).then(result => {\n        var _result$data4;\n\n        if ((result === null || result === void 0 ? void 0 : (_result$data4 = result.data) === null || _result$data4 === void 0 ? void 0 : _result$data4.status) === \"success\") toast.success('Create success');\n        setPhone('');\n        setSallonName('');\n        setAddrWebsite('');\n        window.location.reload();\n      }).catch(e => {\n        toast.error('Create Fail');\n      });\n    } catch (error) {}\n  };\n\n  const onFileChange = event => {\n    uploadImage(event.target.files[0]).then(result => {\n      var _result$data5;\n\n      if ((result === null || result === void 0 ? void 0 : result.status) === 200) setUrlPhoto(result === null || result === void 0 ? void 0 : (_result$data5 = result.data) === null || _result$data5 === void 0 ? void 0 : _result$data5.path);\n    }).catch(e => {\n      console.log(e.response);\n    });\n  };\n\n  const ShowFormCreateProfile = () => {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlerCreateProfile,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"conainerCreateInforProfile\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"title\",\n          children: \"  Welcome Back!  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"title\",\n          children: [\" Hello \", (userData === null || userData === void 0 ? void 0 : userData.name) ? userData === null || userData === void 0 ? void 0 : userData.name : '', \"   \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerRating\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"proile-rating\",\n            children: [\"Rating : \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"8/10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 54\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerUserName\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: (userData === null || userData === void 0 ? void 0 : userData.name) ? userData === null || userData === void 0 ? void 0 : userData.name : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerPhone flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Number Phone\",\n            onChange: e => setPhone(e.target.value),\n            value: numberPhone,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Salon Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Salon Name\",\n            onChange: e => setSallonName(e.target.value),\n            value: salonName,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Website\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Website\",\n            onChange: e => setAddrWebsite(e.target.value),\n            value: addrWebsite,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-img\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: urlPhoto,\n            alt: \"avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file btn btn-lg btn-primary\",\n            children: [\"Change Photo\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              name: \"file\",\n              onChange: onFileChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btnSubmit\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"profile-edit-btn\",\n            name: \"btnAddMore\",\n            defaultValue: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  };\n\n  const ShowInforProfile = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conainerItemInforProfile\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerUsername flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Name :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: inforProfle === null || inforProfle === void 0 ? void 0 : inforProfle.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerPhone flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Phone :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: inforProfle === null || inforProfle === void 0 ? void 0 : inforProfle.phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerImage flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Photo :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: inforProfle === null || inforProfle === void 0 ? void 0 : inforProfle.image,\n          alt: \"avatar\",\n          className: \"img-fluid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerSalonName flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Salon name :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: inforProfle === null || inforProfle === void 0 ? void 0 : inforProfle.salon_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerWebsite flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Website :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: inforProfle === null || inforProfle === void 0 ? void 0 : inforProfle.website\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerReviews flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Reviews :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: inforProfle === null || inforProfle === void 0 ? void 0 : inforProfle.reviews_number\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conatinerProfile container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containerTitleMenu\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title-wrap-home\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card-title \",\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: !inforProfle ? ShowFormCreateProfile() : ShowInforProfile()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Profiles, \"C9J8yqRQytJYSHKGYafNid1BkaI=\");\n\n_c = Profiles;\nexport default Profiles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profiles\");","map":{"version":3,"sources":["/Users/ducdinh/Desktop/Front-end/src/components/Profile/Profiles.js"],"names":["React","useContext","toast","AuthContext","createProfile","uploadImage","getIsCreateprofile","Link","Loading","Profiles","userData","token","numberPhone","setPhone","useState","salonName","setSallonName","addrWebsite","setAddrWebsite","urlPhoto","setUrlPhoto","inforProfle","setInforProfile","loading","setLoading","useEffect","then","result","data","status","catch","e","handlerCreateProfile","preventDefault","length","error","name","success","window","location","reload","onFileChange","event","target","files","path","console","log","response","ShowFormCreateProfile","value","ShowInforProfile","phone","image","salon_name","website","reviews_number"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport \"./Style.css\";\nimport { toast } from 'react-toastify';\nimport { AuthContext } from './../../context/AuthContext';\nimport { createProfile } from '../../api/profile'\nimport { uploadImage } from '../../api/upload'\nimport { getIsCreateprofile } from '../../api/profile'\nimport { Link } from 'react-router-dom'\nimport Loading from '../../common/Loading'\nconst Profiles = () => {\n  const { userData, token } = useContext(AuthContext);\n  const [numberPhone, setPhone] = React.useState('')\n  const [salonName, setSallonName] = React.useState('')\n  const [addrWebsite, setAddrWebsite] = React.useState('')\n  const [urlPhoto, setUrlPhoto] = React.useState('https://res.cloudinary.com/dq8rwm2xl/image/upload/v1619358123/image/khr7mhtuttu5kweudkh1.jpg');\n  const [inforProfle, setInforProfile] = React.useState(null)\n  const [loading, setLoading] = React.useState(true)\n  React.useEffect(() => {\n    (() => {\n      if (token) {\n        getIsCreateprofile(token).then((result) => {\n          if (result?.data?.status === \"success\") {\n            if (result?.data?.data) {\n              setInforProfile(result?.data?.data)\n            }\n            setLoading(false)\n          }\n        }).catch((e) => {\n\n          setInforProfile(null)\n        })\n      }\n    })()\n    return () => setInforProfile(null)\n  }, [token])\n\n  const handlerCreateProfile = (e) => {\n    e.preventDefault();\n    if(numberPhone.length <  5) return toast.error('phone length must be at least 5 characters long');\n    try {\n      createProfile(userData?.name, numberPhone, urlPhoto, salonName, addrWebsite, token).then((result) => {\n     \n        if (result?.data?.status === \"success\") toast.success('Create success');\n        setPhone('')\n        setSallonName('')\n        setAddrWebsite('')\n        window.location.reload()\n      }).catch((e) => {\n        toast.error('Create Fail');\n      })\n    } catch (error) {\n\n    }\n  }\n  const onFileChange = (event) => {\n    uploadImage(event.target.files[0]).then((result) => {\n      if (result?.status === 200) setUrlPhoto(result?.data?.path)\n    }).catch((e) => {\n      console.log(e.response)\n    })\n  }\n  const ShowFormCreateProfile = () => {\n    return (\n      <form onSubmit={handlerCreateProfile}>\n        <div className=\"conainerCreateInforProfile\">\n          <h3 className=\"title\">  Welcome Back!  </h3>\n          <h5 className=\"title\"> Hello {userData?.name ? userData?.name : ''}   </h5>\n          <div className=\"containerRating\">\n            <span className=\"proile-rating\">Rating : <span>8/10</span></span>\n          </div>\n          <div className=\"containerUserName\">\n            <span>Name</span>\n            <span>{userData?.name ? userData?.name : ''}</span>\n          </div>\n          <div className=\"containerPhone flex\">\n            <span>Phone:</span>\n            <input\n              type=\"text\"\n              placeholder=\"Number Phone\"\n              onChange={(e) => setPhone(e.target.value)}\n              value={numberPhone}\n              required\n            />\n          </div>\n          <div className=\"flex\">\n            <span>Salon Name</span>\n            <input\n              type=\"text\"\n              placeholder=\"Salon Name\"\n              onChange={(e) => setSallonName(e.target.value)}\n              value={salonName}\n              required\n            />\n          </div>\n          <div className=\"flex\">\n            <span>Website</span>\n            <input\n              type=\"text\"\n              placeholder=\"Website\"\n              onChange={(e) => setAddrWebsite(e.target.value)}\n              value={addrWebsite}\n              required\n            />\n          </div>\n          <div className=\"profile-img\">\n            <span>Photo</span>\n            <img src={urlPhoto} alt=\"avatar\" />\n            <div className=\"file btn btn-lg btn-primary\">\n              Change Photo\n              <input type=\"file\" name=\"file\" onChange={onFileChange} required />\n            </div>\n          </div>\n          <div className=\"btnSubmit\">\n            <input type=\"submit\" className=\"profile-edit-btn\" name=\"btnAddMore\" defaultValue=\"Edit Profile\" />\n          </div>\n        </div>\n      </form>\n    )\n  }\n  const ShowInforProfile = () => {\n    return (\n      <div className=\"conainerItemInforProfile\">\n        <div className=\"containerUsername flex\">\n          <span>Name :</span>\n          <span>{inforProfle?.name}</span>\n        </div>\n        <div className=\"containerPhone flex\">\n          <span>Phone :</span>\n          <span>{inforProfle?.phone}</span>\n        </div>\n        <div className=\"containerImage flex\">\n          <span>Photo :</span>\n          <img src={inforProfle?.image} alt=\"avatar\" className=\"img-fluid\" />\n        </div>\n        <div className=\"containerSalonName flex\">\n          <span>Salon name :</span>\n          <span>{inforProfle?.salon_name}</span>\n        </div>\n        <div className=\"containerWebsite flex\">\n          <span>Website :</span>\n          <span>{inforProfle?.website}</span>\n        </div>\n        <div className=\"containerReviews flex\">\n          <span>Reviews :</span>\n          <span>{inforProfle?.reviews_number}</span>\n        </div>\n      </div>\n    )\n  }\n  return (\n    <React.Fragment>\n      {\n        loading ?\n          <Loading></Loading> : (\n            <div className=\"conatinerProfile container-fluid\">\n              <div className=\"containerTitleMenu\">\n                <Link to=\"/\"><span className=\"title-wrap-home\">Home</span></Link>\n                <span className=\"card-title \">Profile</span>\n              </div>\n              <div className=\"container\">\n                {\n                  (!inforProfle ? ShowFormCreateProfile() : ShowInforProfile())\n                }\n\n              </div>\n            </div>\n          )\n      }\n    </React.Fragment>\n\n  )\n}\n\nexport default Profiles\n"]},"metadata":{},"sourceType":"module"}